{"version":3,"sources":["services/auth.service.ts","logo.svg","components/login.component.tsx","components/home.component.tsx","components/profile.component.tsx","services/auth-header.ts","services/user.service.ts","common/EventBus.ts","components/board-user.component.tsx","components/board-moderator.component.tsx","components/board-admin.component.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["API_PORTAL_URL","username","password","axios","post","userName","then","get","response","data","login","user","id","guid","email","localStorage","setItem","JSON","stringify","removeItem","userStr","getItem","parse","Login","props","handleLogin","bind","state","loading","message","Yup","shape","required","formValue","this","setState","AuthService","history","push","window","location","reload","error","resMessage","toString","className","src","MyImage","alt","initialValues","validationSchema","onSubmit","htmlFor","name","type","component","disabled","role","Component","Home","content","Profile","redirect","userReady","currentUser","accessToken","getCurrentUser","to","substring","substr","length","roles","map","index","authHeader","Authorization","API_URL","headers","eventBus","on","event","callback","document","addEventListener","e","dispatch","dispatchEvent","CustomEvent","detail","remove","removeEventListener","BoardUser","UserService","getUserBoard","status","EventBus","BoardAdmin","getModeratorBoard","getAdminBoard","App","logOut","showModeratorBoard","showAdminBoard","undefined","includes","logout","href","onClick","exact","path","BoardModerator","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f6348a2c.chunk.js","sourcesContent":["import axios from \"axios\";\nimport IUser from \"../types/user.type\";\n\nconst API_PORTAL_URL = \"https://rapide-dev.ipsosinteractive.com/AskiaPortal/api/\";\n// const API_PORTAL_URL = \"http://localhost:8000/AskiaPortal/api/\";\n\nclass AuthService {\n  login(username: string, password: string) {\n    return axios\n    .post(API_PORTAL_URL + \"Account/SignIn\", {\n      userName: username,\n      password\n    })\n    .then(() => {     \n      axios.get(API_PORTAL_URL + \"Account/Info\")\n      .then(response => {\n        if (response.data.login) {\n          var user = {} as IUser;\n          user.id = response.data.guid;\n          user.username = response.data.login;\n          user.email = response.data.email;\n          localStorage.setItem(\"user\", JSON.stringify(user));\n          return user;\n        }\n      });\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() {\n    const userStr = localStorage.getItem(\"user\");\n    if (userStr) return JSON.parse(userStr);\n\n    return null;\n  }\n}\n\nexport default new AuthService();\n","export default __webpack_public_path__ + \"static/media/logo.b197ed51.svg\";","import MyImage from '../logo.svg';\nimport { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport AuthService from \"../services/auth.service\";\n\ninterface RouterProps {\n  history: string;\n}\n\ntype Props = RouteComponentProps<RouterProps>;\n\ntype State = {\n  username: string,\n  password: string,\n  loading: boolean,\n  message: string\n};\n\nexport default class Login extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\"\n    };\n  }\n\n  validationSchema() {\n    return Yup.object().shape({\n      username: Yup.string().required(\"This field is required!\"),\n      password: Yup.string().required(\"This field is required!\"),\n    });\n  }\n\n  handleLogin(formValue: { username: string; password: string }) {\n    const { username, password } = formValue;\n\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n\n\n    AuthService.login(username, password).then(\n      () => {\n        this.props.history.push(\"/profile\");\n        window.location.reload();\n      },\n      error => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        this.setState({\n          loading: false,\n          message: resMessage\n        });\n      }\n    );\n  }\n\n  render() {\n    const { loading, message } = this.state;\n\n    const initialValues = {\n      username: \"\",\n      password: \"\",\n    };\n\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"card card-container\">\n          <img\n            src={MyImage}\n            alt=\"profile-img\"\n            className=\"profile-img-card\"\n          />\n\n          <Formik\n            initialValues={initialValues}\n            validationSchema={this.validationSchema}\n            onSubmit={this.handleLogin}\n          >\n            <Form>\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">Username</label>\n                <Field name=\"username\" type=\"text\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"username\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <Field name=\"password\" type=\"password\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"password\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading}>\n                  {loading && (\n                    <span className=\"spinner-border spinner-border-sm\"></span>\n                  )}\n                  <span>Login</span>\n                </button>\n              </div>\n\n              {message && (\n                <div className=\"form-group\">\n                  <div className=\"alert alert-danger\" role=\"alert\">\n                    {message}\n                  </div>\n                </div>\n              )}\n            </Form>\n          </Formik>\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class Home extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"This is a PoC for SignalR\"\n    };\n  }\n\n  // componentDidMount() {\n  //   UserService.getPublicContent().then(\n  //     response => {\n  //       this.setState({\n  //         content: response.data\n  //       });\n  //     },\n  //     error => {\n  //       this.setState({\n  //         content:\n  //           (error.response && error.response.data) ||\n  //           error.message ||\n  //           error.toString()\n  //       });\n  //     }\n  //   );\n  // }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport IUser from \"../types/user.type\";\n\ntype Props = {};\n\ntype State = {\n  redirect: string | null,\n  userReady: boolean,\n  currentUser: IUser & { accessToken: string }\n}\nexport default class Profile extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: { accessToken: \"\" }\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n\n    if (!currentUser) this.setState({ redirect: \"/home\" });\n    this.setState({ currentUser: currentUser, userReady: true })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />\n    }\n\n    const { currentUser } = this.state;\n\n    return (\n      <div className=\"container\">\n        {(this.state.userReady) ?\n          <div>\n            <header className=\"jumbotron\">\n              <h3>\n                <strong>{currentUser.username}</strong> Profile\n              </h3>\n            </header>\n            <p>\n              <strong>Token:</strong>{\" \"}\n              {currentUser.accessToken.substring(0, 20)} ...{\" \"}\n              {currentUser.accessToken.substr(currentUser.accessToken.length - 20)}\n            </p>\n            <p>\n              <strong>Id:</strong>{\" \"}\n              {currentUser.id}\n            </p>\n            <p>\n              <strong>Email:</strong>{\" \"}\n              {currentUser.email}\n            </p>\n            <strong>Authorities:</strong>\n            <ul>\n              {currentUser.roles &&\n                currentUser.roles.map((role, index) => <li key={index}>{role}</li>)}\n            </ul>\n          </div> : null}\n      </div>\n    );\n  }\n}\n","export default function authHeader() {\n  const userStr = localStorage.getItem(\"user\");\n  let user = null;\n  if (userStr)\n    user = JSON.parse(userStr);\n\n  if (user && user.accessToken) {\n    return { Authorization: 'Bearer ' + user.accessToken }; // for Spring Boot back-end\n    // return { 'x-access-token': user.accessToken };       // for Node.js Express back-end\n  } else {\n    return { Authorization: '' }; // for Spring Boot back-end\n    // return { 'x-access-token': null }; // for Node Express back-end\n  }\n}","import axios from 'axios';\nimport authHeader from './auth-header';\n\nconst API_URL = 'http://localhost:8080/api/test/';\n\nclass UserService {\n  getPublicContent() {\n    return axios.get(API_URL + 'all');\n  }\n\n  getUserBoard() {\n    return axios.get(API_URL + 'user', { headers: authHeader() });\n  }\n\n  getModeratorBoard() {\n    return axios.get(API_URL + 'mod', { headers: authHeader() });\n  }\n\n  getAdminBoard() {\n    return axios.get(API_URL + 'admin', { headers: authHeader() });\n  }\n}\n\nexport default new UserService();\n","const eventBus = {\n  on(event: string, callback: EventListener) {\n    document.addEventListener(event, (e) => callback(e));\n  },\n  dispatch(event: string, data?: any) {\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event: string, callback: EventListener) {\n    document.removeEventListener(event, callback);\n  },\n};\n\nexport default eventBus;\n","import { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class BoardUser extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"\"\n    };\n  }\n\n  componentDidMount() {\n    UserService.getUserBoard().then(\n      response => {\n        this.setState({\n          content: response.data\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString()\n        });\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class BoardAdmin extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"\"\n    };\n  }\n\n  componentDidMount() {\n    UserService.getModeratorBoard().then(\n      response => {\n        this.setState({\n          content: response.data\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString()\n        });\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class BoardAdmin extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"\"\n    };\n  }\n\n  componentDidMount() {\n    UserService.getAdminBoard().then(\n      response => {\n        this.setState({\n          content: response.data\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString()\n        });\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\nimport IUser from './types/user.type';\n\nimport Login from \"./components/login.component\";\nimport Home from \"./components/home.component\";\nimport Profile from \"./components/profile.component\";\nimport BoardUser from \"./components/board-user.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\n\nimport EventBus from \"./common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  showModeratorBoard: boolean,\n  showAdminBoard: boolean,\n  currentUser: IUser | undefined\n}\n\nclass App extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n\n    EventBus.on(\"logout\", this.logOut);\n  }\n\n  componentWillUnmount() {\n    EventBus.remove(\"logout\", this.logOut);\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    });\n  }\n\n  render() {\n    const { currentUser, showModeratorBoard, showAdminBoard } = this.state;\n\n    return (\n      <div>\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n          <Link to={\"/askia-lite-app\"} className=\"navbar-brand\">\n            Askia Lite\n          </Link>\n          <div className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/askia-lite-app/home\"} className=\"nav-link\">\n                Home\n              </Link>\n            </li>\n\n            {showModeratorBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/askia-lite-app/mod\"} className=\"nav-link\">\n                  Moderator Board\n                </Link>\n              </li>\n            )}\n\n            {showAdminBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/askia-lite-app/admin\"} className=\"nav-link\">\n                  Admin Board\n                </Link>\n              </li>\n            )}\n\n            {currentUser && (\n              <li className=\"nav-item\">\n                <Link to={\"/askia-lite-app/user\"} className=\"nav-link\">\n                  User\n                </Link>\n              </li>\n            )}\n          </div>\n\n          {currentUser ? (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/askia-lite-app/profile\"} className=\"nav-link\">\n                  {currentUser.username}\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <a href=\"/askia-lite-app/login\" className=\"nav-link\" onClick={this.logOut}>\n                  LogOut\n                </a>\n              </li>\n            </div>\n          ) : (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/askia-lite-app/login\"} className=\"nav-link\">\n                  Login\n                </Link>\n              </li>\n            </div>\n          )}\n        </nav>\n\n        <div className=\"container mt-3\">\n          <Switch>\n            <Route exact path={[\"/askia-lite-app\", \"/askia-lite/home\"]} component={Home} />\n            <Route exact path=\"/askia-lite-app/login\" component={Login} />\n            <Route exact path=\"/askia-lite-app/profile\" component={Profile} />\n            <Route path=\"/askia-lite-app/user\" component={BoardUser} />\n            <Route path=\"/askia-lite-app/mod\" component={BoardModerator} />\n            <Route path=\"/askia-lite-app/admin\" component={BoardAdmin} />\n          </Switch>\n        </div>\n\n        { /*<AuthVerify logOut={this.logOut}/> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}